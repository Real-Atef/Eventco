'use strict';var idSlide=2;var qtMax=null;$(document).ready(function(){qtMax=$("#qtShowCategoryEvent").val();if(qtMax>1)setTimeout(function(){showSlide(idSlide)},5E3);if($("#showProductForm").length>0)doShowProduct();if($("#showEventInfoForm #nmText").height()>300){$("#showEventInfoForm #nmText").addClass("toSlide padSlider");$("#showEventInfoForm #nmText").css({height:"300px"})}else{$("#less").hide();$("#more").hide()}});function slideMin(){let dscr=$("#nmText");let initHeight=300;if(dscr.hasClass("toSlide")){dscr.animate({height:$("#heightText").height()+"px"},600);dscr.removeClass("toSlide")}else{dscr.animate({height:initHeight+"px"},600);dscr.addClass("toSlide")}}var myVar;function showSlide(position){idSlide=position;$("[element\x3d 'singleSlide']").each(function(){$(this).hide()});$("[element\x3d 'singlePoint']").each(function(){$(this).removeClass("slideFull")});$("#slide_"+idSlide).fadeIn("slow");$("#singlePoint_"+idSlide).addClass("slideFull");idSlide++;if(idSlide>qtMax)idSlide=1;clearTimeout(myVar);myVar=setTimeout(function(){showSlide(idSlide)},5E3)}
function doShowProduct(){let counter=0;$("[element\x3d 'idProductItemQta']").each(function(){let split=this.id.split("_");if(this.value!=""){$("#itemCheck_"+split[1]).show("slow");counter+=Number(this.value)}else $("#itemCheck_"+split[1]).hide("slow")});$('select[id^\x3d"cdPackageGroupQta_"]').each(function(){if($(this).val()!="")counter+=Number($(this).val())});if($("#productMapQta").length>0)counter=$("#productMapQta").val();let cdDelivery=$("#cdDelivery").val();$("[id^\x3d 'cdDeliv_']").each(function(){$(this).removeClass("selected")});$("[id^\x3d 'deliveryCheck_']").each(function(){$(this).hide("slow")});$("#cdDeliv_"+cdDelivery).addClass("selected");$("#deliveryCheck_"+cdDelivery).show("slow");if(counter>0&&cdDelivery!="")$("#doAddToBasket").removeAttr("disabled");else $("#doAddToBasket").attr("disabled","disabled")}
function toggleElement(elementClicked,idElementSelected,nmElement){$("[element\x3d '"+nmElement+"']").each(function(){if($(this).css("display")!="none")$(this).slideToggle();if(idElementSelected==$(this).attr("id")&&$(this).css("display")=="none")$(this).slideToggle()})}
function doCheckbox(object){let checkbox=$(object).find("input[type\x3dcheckbox]");let fake=$(object).find(".checkboxInput");if(checkbox.attr("checked")=="checked"){checkbox.removeAttr("checked");fake.removeClass("checked")}else{checkbox.attr("checked","checked");fake.addClass("checked")}}
function doBilling(askBilling){if(askBilling=="yes"){$("#isInvoiceRequested").val("true");$("#yesBilling").show();$("#noBilling").hide()}else{$("#isInvoiceRequested").val("false");$("#yesBilling").hide();$("#noBilling").show();$("#billingForm").submit()}}
function doCountdown(qtTimeLeft,dsLabel){if(qtTimeLeft>0){let minutes=Math.floor(qtTimeLeft/60%60);let seconds=Math.floor(qtTimeLeft%60);if(minutes<10)minutes="0"+minutes;if(seconds<10)seconds="0"+seconds;document.getElementById("doCountDown").innerHTML=dsLabel+" "+minutes+" : "+seconds;setTimeout(function(){doCountdown(qtTimeLeft-1,dsLabel)},1E3)}else document.location="cancelTransaction.html?idNews\x3d100"}
function logout(){document.headerLogout.doLogout.value=true;document.headerLogout.submit()}
function tmeSendMail(){if($("#nmFirstName").val()!=undefined&&$("#nmFirstName").val().trim().length>1&&$("#nmLastName").val()!=undefined&&$("#nmLastName").val().trim().length>1&&$("#noPhone").val()!=undefined&&$("#noPhone").val().trim().length>1&&$("#ulEmail").val()!=undefined&&$("#ulEmail").val().trim().length>1&&$("#dsMessage").val()!=undefined&&$("#dsMessage").val().trim().length>1){let messageStr="First name "+$("#nmFirstName").val()+"\x3cbr/\x3e"+"Last name: "+$("#nmLastName").val()+"\x3cbr/\x3e"+"Phone: "+$("#noPhone").val()+"\x3cbr/\x3e"+"Email: "+$("#ulEmail").val()+"\x3cbr/\x3e"+"Message: "+$("#dsMessage").val()+"\x3cbr/\x3e";$("#message").val(messageStr);return true}else return false}
function doUploadFile(){let filename=$("#filename").val().replace(/.*[\/\\]/,"").replace(/ /g,"-");if(!filename.endsWith(".pdf")&&!filename.endsWith(".doc")&&!filename.endsWith(".docx"))alert("File not allowed.");else{$("#cdDocumentFile").empty().html("Uploaded: "+filename);$("#uploadFileForm").submit()}}
function callSearch(field){let cdApplication="TME";let ul=$("#tmeLink");ul.empty().hide();if(field.value.length>1)$.ajax({dataType:"json",encoding:"UTF-8",contentType:"application/json",type:"POST",url:"tmesearch.json?cdKeyword\x3d"+field.value+"\x26cdApplication\x3d"+cdApplication,async:true,success:function(data){if(data.length>0)ul.empty().show();for(let i in data)if(data[i].cdObjectType!=undefined){let li=document.createElement("li");let a=document.createElement("a");li.setAttribute("class",data[i].cdObjectType);a.setAttribute("href",data[i].ulLink);a.innerHTML=data[i].nmName;li.append(a);ul.append(li)}}})};